<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Testing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
<div id="content"></div>

<div id="hud">
  <div class="wrap">
    <p id="total-instances" class="big-number">0</p>
    <p class="label">TOTAL TASKS</p>
    <span class="hairline"></span>

    <div class="app" id="app-1">
      <div class="switch">
        <input id="toggle-app-1" class="cmn-toggle" type="checkbox" checked>
        <label for="toggle-app-1"></label>
      </div>
      <div class="info">
        <p id="app-1-instances" class="big-number">0</p>
        <p class="label" id="app-1-label">n/a</p>
      </div>
    </div>

    <div class="app" id="app-2">
      <div class="switch">
        <input id="toggle-app-2" class="cmn-toggle" type="checkbox" checked>
        <label for="toggle-app-2"></label>
      </div>
      <div class="info">
        <p id="app-2-instances" class="big-number">0</p>
        <p class="label" id="app-2-label">n/a</p>
      </div>
    </div>

    <div class="app" id="app-3">
      <div class="switch">
        <input id="toggle-app-3" class="cmn-toggle" type="checkbox" checked>
        <label for="toggle-app-3"></label>
      </div>
      <div class="info">
        <p id="app-3-instances" class="big-number">0</p>
        <p class="label" id="app-3-label">n/a</p>
      </div>
    </div>

    <div class="app" id="app-4">
      <div class="switch">
        <input id="toggle-app-4" class="cmn-toggle" type="checkbox" checked>
        <label for="toggle-app-4"></label>
      </div>
      <div class="info">
        <p id="app-4-instances" class="big-number">0</p>
        <p class="label" id="app-4-label">n/a</p>
      </div>
    </div>

  </div>
</div>
<div id="controls">
  <p>
    <a href="#0" id="group-radius">
      <img class="icon" src="./img/grouped.png"/>
    </a>
    <a href="#0" class="active" id="ungroup-radius">
      <img class="icon" src="./img/ungrouped.png"/>
    </a>
  </p>
</div>
<p id="camera-controls">
  <a href="#0" id="move-camera">Fly Cam</a> ‚ùò
  <a href="#0" class="active" id="reset-camera">Manual Cam</a>
</p>
<img src="./img/logo.png" id="logo"/>
<script type="x-shader/x-vertex" id="vertexshader">
    // MIT License.
    // Copyright Ian Webster 2012 (asterank.com)
    // https://github.com/typpo/asterank/blob/master/LICENSE
    #define pi 3.141592653589793238462643383279

    attribute vec3 value_color;
    varying vec3 vColor;

    attribute float value_alpha;
    varying float vAlpha;

    attribute float size;

    uniform float jed;

    attribute float phi;
    attribute float radius;
    attribute float theta;
    attribute float speed;
    attribute float locked;
    attribute float is_planet;

    varying float vLocked;
    varying float vPlanet;

    vec3 getAstroPos() {
      float phi_rad = (phi) * pi/180.0; // longitude of ascending node
      float theta_rad = (theta) * pi/180.0; // LONGITUDE of perihelion

      float t = mod(jed, speed) / speed * 2.0 * pi;
      float X = radius * sin(phi_rad + t);
      float Y = radius * cos(phi_rad + t);
      float Z = theta * cos(mod(theta, 2.0*pi) + t);

      return vec3(X, Y, Z);
    }

    void main() {
      vColor = value_color;
      vAlpha = value_alpha;
      vLocked = locked;
      vPlanet = is_planet;

      vec3 newpos = getAstroPos();
      vec4 mvPosition = modelViewMatrix * vec4(newpos, 1.0);
      gl_Position = projectionMatrix * mvPosition;
      gl_PointSize = size;
    }
</script>
<script type="x-shader/x-fragment" id="fragmentshader">
    // MIT License.
    // Copyright Ian Webster 2012 (asterank.com)
    // https://github.com/typpo/asterank/blob/master/LICENSE
    varying vec3 vColor;
    varying float vAlpha;
    varying float vLocked;
    varying float vPlanet;
    uniform sampler2D planet_texture;
    uniform sampler2D small_roid_texture;
    uniform sampler2D small_roid_circled_texture;

    void main() {
      if (vLocked < .5) {
        if (vPlanet < .5) {
          gl_FragColor = vec4(vColor, vAlpha) * texture2D(small_roid_texture,
            vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y));
        }
        else {
          gl_FragColor = vec4(vColor, vAlpha) * texture2D(planet_texture,
            vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y));
        }
      }
      else {
        gl_FragColor = vec4(vColor, vAlpha) * texture2D(small_roid_circled_texture,
          vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y));
      }
    }
</script>

<!-- lib -->
<script src="lib/three.min.js"></script>
<script src="lib/q.js"></script>
<script src="lib/qajax.min.js"></script>
<script src="lib/lazy.min.js"></script>
<script src="lib/tweenjs.min.js"></script>

<!-- src -->
<script src="js/trackball-controls.js"></script>
<script src="js/ellipse.js"></script>
<script src="js/data.js"></script>
<script src="js/main.js"></script>

</body>
</html>
